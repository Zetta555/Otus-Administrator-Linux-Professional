# otus-task006
## Работа с загрузчиком  
1. Попасть в систему без пароля несколькими способами
2. Установить систему с LVM, после чего переименовать VG
3. Добавить модуль в initrd


## Вход в систему без пароля.
1.     
Выбираю пункт меню загрузки, нажимаю клавишу "e" для входа в режим редактирования выбранного пункта. В строке linux16 для BIOS или в строке linuxefi в конец добавляю параметр <code>init=/bin/sh</code>  

------------------------------
выбираю пункт меню с нужным ядром  
![выбор пункта меню](pict/1.%20выбор%20пункта%20меню.png)  

------------------------------
редактирую пункт меню  
![редактирование пункта меню](pict/2.%20редактирование%20пункта%20меню.png)  

------------------------------
добавляю параметр загрузки (для BIOS)  
![добавляем параметр загрузки (для BIOS)](pict/3.%20добавляем%20параметр%20загрузки%20(для%20BIOS).png)  

------------------------------
добавляю параметр загрузки (для UEFI)  
![добавляем параметр загрузки (для UEFI)](pict/4.%20добавляем%20параметр%20загрузки%20(для%20UEFI).png)  

------------------------------
и нажимаю ctrl+x для выполнения отредактированного пункта загрузки.

инициализируется оболочка shell с примонтированным корнем в режиме чтения
![оболочка](pict/5.%20оболочка.png)

------------------------------
Перемонтирую корневую ФС в режиме записи и сбрасываю пароль root-а.  
Создаю в корне файл /.autorelabel указывающий Selinux перемаркировать корневую фс с новым паролем root
![](pict/6_перемонтирование_сброс_пароля_selinux.png)

уведомление Selinux, получившего указание на перемаркировку фс
![](pict/7_autorelabel.png)

------------------------------
2.  
В отличие от первого варианта, корневую фс монтирую сразу в rw добавив соотвествующий параметр и добавляю параметр rd.break.  
![](pict/8_прерывание_процесса_загрузки.png)

По факту загрузка осуществлена с примонтированным sysroot вместо /, для доступа к корню основной фс использую chroot.  
![](pict/9_chroot.png)

------------------------------
3. 
ситуация аналогичная 2 варианту, но инициализируется шел из sysroot.    
![](pict/10_sysroot_bin_sh.png)
![](pict/11_sysroot_bin_sh.png)

------------------------------  
  
## Переименовать VG











