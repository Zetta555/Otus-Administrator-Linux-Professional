# otus-task008
Bash, grep, sed, awk и другие.  
Писать скрипты на языка bash.  

# Написать скрипт для крона который раз в час присылает на заданную почту  
- X IP адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта  
- Y запрашиваемых адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта  
- все ошибки c момента последнего запуска  
- список всех кодов возврата с указанием их кол-ва с момента последнего запуска  

В письме должно быть прописан обрабатываемый временной диапазон  
должна быть реализована защита от мультизапуска.  


## Решение.
В cron добавляю два задания. Первое - каждый час 30 минут запускает скрипт download_log.sh, который выкачивает средством scp логи веб-сервера с хостинг-сервиса, для подстановки пароля в скрипт для scp используется предустановленная утилита sshpass.
Второе задание запускает скрипт mail_log.sh, осуществляющй парсинг лога и отправляющего результат на локальную почту пользователя из под которого запущен скрипт.


```
$> crontab -l
30 */1 * * * /path2script/download_log.sh
0 * * * * /path2script/mail_log.sh
```
